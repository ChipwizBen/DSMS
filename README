This is the README file for the  Sudoers Management System, developed by Ben Schofield of  Systems (Wellington) Ltd. 

For full technical documentation see:
https://www.one.com/community/-Developed Tools (DDT)/SitePages/DSMS -  Sudoers Management System.aspx

See the changelog file for the latest modifications.

Please send bug reports or change requests to ben@nwk1.com


System Requirements
	RHEL/CentOS 6 or newer (Debian Squeeze/Ubuntu 14.04 also work)
	Apache 2.2 or newer
		mod_ssl
	MySQL (or MariaDB) 5.1 or newer
	visudo
	md5sum
	sha1sum
	cut
	Perl v5.10 or newer (at /usr/bin/perl)
	Perl modules:
		strict -- [Core perl module]
		DBI -- [Native RHEL package: perl-DBI]
		HTML::Table -- [Requires CPAN or self-compile]
		Digest::SHA qw(sha512_hex) -- [Native RHEL package: perl-Digest-SHA, also core module]
		POSIX qw(strftime) -- [Core perl module]
		MIME::Lite -- [Native RHEL package: perl-MIME-Lite]
		CGI -- [Native RHEL package: perl-CGI, also core module]
		CGI::Carp qw(fatalsToBrowser) -- [Inclued in native RHEL package: perl-CGI, also core module]
		CGI::Session qw(-ip-match) -- [Native RHEL package: perl-CGI-Session]
		Date::Parse -- [Included in native RHEL package: perl-DateTime]
		Net::SFTP::Foreign -- [Requires CPAN or self-compile]
		Time::HiRes -- [Included in native RHEL package: perl-DateTime]


File Permissions (from web root)

sudoers = Path to sudoers set in common.pl as Sudoers_Location
sudoers-storage/ = Path to sudoers-storage/ set in common.pl as Sudoers_Storage

chown root:apache *.cgi
chmod 650 *.cgi

chown root:apache common.pl
chmod 650 common.pl

chown root:root sudoers-build.pl distribution.pl
chmod 100 sudoers-build.pl distribution.pl

chown root:apache environmental-variables sudoers
chmod 640 environmental-variables sudoers

chown -R root:apache format.css favicon.ico resources/
chmod -R 440 format.css favicon.ico resources/

chown root:apache resources/ resources/imgs/ resources/imgs/buttons/
chmod 550 resources/ resources/imgs/ resources/imgs/buttons/

chown -R root:root sudoers-storage/
chmod -R 700 sudoers-storage/


Database Permissions

Sudoers Database (all tables):
	sudoers (user):
		SELECT, INSERT, UPDATE, DELETE

Management Database
	Management.access_log:
		Management (user):
			SELECT, INSERT, UPDATE
	Management.audit_log:
		Management (user):
			SELECT, INSERT, UPDATE
	Management.credentials:
		Management (user):
			SELECT, INSERT, UPDATE, DELETE
	Management.distribution:
		Management (user):
			SELECT, INSERT, UPDATE, DELETE


Client Requirements
	Firefox 3 or later
	Chrome
	THROW INTERNET EXPLORER AWAY
	Other browsers may work well, but are untested.
	Cookies are required for CGI authentication control
	Javascript is required for toggle switches (I'm really, really sorry. There was no other way).

	